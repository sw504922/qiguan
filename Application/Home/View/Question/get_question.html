<table class="dataTable" cellpadding="0" cellspacing="0">
    <tr class="info">
        <th>序号</th>
        <th>文章标题</th>
        <th>回答摘要</th>
        <th>发布时间</th>
        <th>发布用户</th>
        <th>赞同数</th>
        <th>评论数</th>
        <th>浏览数</th>
        <th>操作</th>
    </tr>
    <?php
        foreach($result as $key=>$val){
    ?>

    <tr>
        <td>{$key+1}</td>

        <td>
            <div class="whiteSpace">{$val.title}</div>
        </td>
        <td>
            <div class="whiteSpace">{$val.msg_abstract}</div>
        </td>
        <td>
            <div class="whiteSpace">{$val.publish_time}</div>
        </td>
        <td>{$val.user_name}</td>
        <td>{$val.praise}</td>
        <td>{$val.comment}</td>
        <td>{$val.pv}</td>
        <td>
            <?php
                $status=$val["status"];
                if($status==0){
            ?>
            <a onclick="updateData('../Question/setStatus','{$val.answer_id}',1)" class="blue pointer">下架</a>
            <?php
                }else if($status==1){
            ?>
            <a onclick="updateData('../Question/setStatus','{$val.answer_id}',0)" class="blue pointer">发布</a>
            <?php } ?>
        </td>

    </tr>
    <?php }?>


    <?php
        if(count($result)==0){
    ?>
    <tr>
        <td colspan="9" align="center">暂无符合的数据</td>
    </tr>
    <?php
        }else{
     $pageCount=ceil($resultCount/$viewCount);
    ?>
</table>
<input value="{$new_page}" id="page" type="hidden"/>
<div id="kkpager" style="display: inline-block"></div>
<span style="vertical-align: middle;margin-top: -30px;display: inline-block;">共{$resultCount}条数据</span>
<?php } ?>
<script type="text/javascript">
    $(document).ready(function () {
        //设置显示数据结构名称与数据
        var dataCount = {$resultCount};
        $(".newsNum").html(dataCount);
        var pageCount = {$pageCount};
        if (dataCount > 0) {
            limitPage(pageCount, dataCount, "../Question/getAnswer");
        }

    })


</script>